---
title: "Calendar ë‚ ì§œ ì„ íƒ ë¡œì§ ì¶”ê°€ ë° ì½”ë“œ ë¦¬íŒ©í† ë§"
date: 2023-10-16
description: "Calendar ë‚ ì§œ ì„ íƒ ë¡œì§ ì¶”ê°€ ë° ì½”ë“œ ë¦¬íŒ©í† ë§"
---

ìµœê·¼ì— react-datepicker ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì»¤ìŠ¤í…€ í•˜ëŠ” ì¬ë¯¸ì— ë¹ ì¡Œë‹¤.
ì˜¤ëŠ˜ì€ ë¡œê·¸ë¥¼ ì“°ì§€ ëª»í•œ ë‚  ë‚ ì§œ ì„ íƒ ë¹„í™œì„±í™” ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê³  ê¸°ì¡´ Calendar ì»´í¬ë„ŒíŠ¸ ë¦¬íŒ©í† ë§ ì‘ì—…ì„ í–ˆë‹¤.

## ë‹¬ë ¥ ë‚ ì§œ ì„ íƒ ë¡œì§

react-datepicker ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ filterDateë¥¼ ì‚¬ìš©í•˜ì˜€ë‹¤.
ì´ ê¸°ëŠ¥ì€ ì‚¬ìš©ìê°€ ì§€ì •í•œ ê·œì¹™ì— ë”°ë¼ íŠ¹ì • ë‚ ì§œë¥¼ ì„ íƒí•  ìˆ˜ ìˆìœ¼ë©° true, false ë°˜í™˜ê°’ì„ ê°€ì§€ê¸° ë•Œë¬¸ì—
ëŠë‚Œí‘œ ë‘ê°œ(!!) ì—°ì‚°ìë¡œ í™•ì‹¤í•œ ë…¼ë¦¬ê²°ê³¼ë¥¼ ë¦¬í„´í–ˆë‹¤.

í•„í„° ë¡œì§ì€ ë‹¤ìŒê³¼ ê°™ì´ êµ¬í˜„í•˜ì˜€ë‹¤.

```jsx
const isLogAvailable = (date: Date) => {
  const formatDate = format(date, "yyMMdd");
  const isFindLog = allLogs.find(
    (log: Log) => formatDate === format(new Date(log.date), "yyMMdd")
  );
  return !!isFindLog;
};
```

## ğŸ˜Â ì¬ë¯¸ìˆëŠ” ë¦¬íŒ©í† ë§ í•˜ê¸°

ê¸°ì¡´ ì½”ë“œë¥¼ ë´¤ì„ ë•Œ ì¤‘ë³µëœ ì½”ë“œê°€ ë§ì•˜ê³ , ë‚´ë¶€ ë¡œì§ í•¨ìˆ˜ ë¶„ë¦¬ê°€ ì•ˆë˜ì–´ ìˆì–´ ê°€ë…ì„±ì´ ë–¨ì–´ì¡Œì—ˆë‹¤.
ê·¸ë¦¬ê³  any íƒ€ì…ì„ ë¬´ë¶„ë³„í•˜ê²Œ ì‚¬ìš©í•˜ì—¬ íƒ€ì…ì—ëŸ¬ë¥¼ ë‹¤ ìˆ¨ê²¨ë†“ëŠ” ìˆ˜ì¤€ì´ì—ˆë‹¤. ğŸ˜µâ€ğŸ’«
ë˜ svg ì•„ì´ì½˜ì´ ì´ê³³ì €ê³³.. ë„ì €íˆ ì°¸ì„ ìˆ˜ ì—†ì–´ ë¦¬íŒ©í† ë§ ì‘ì—…ì„ ì‹œì‘í–ˆë‹¤.

1. ë‚´ë¶€ ë¡œì§ í•¨ìˆ˜ ë¶„ë¦¬
2. ì¤‘ë³µëœ í•„í„°ë§ ë¡œì§ ë¶„ë¦¬
3. any íƒ€ì… ì§€ì–‘
4. ê¸°ì¡´ SVG ì•„ì´ì½˜ ë¶„ë¦¬

## ë¶€ë„ëŸ¬ìš´ ë¦¬íŒ©í† ë§ ì „ ì½”ë“œ

<details>
<summary>ğŸ˜¡</summary>

```jsx
"use client";

import Link from "next/link";
import DatePicker from "react-datepicker";
import { forwardRef, useMemo, useState } from "react";
import { ko } from "date-fns/esm/locale";
import { format } from "date-fns";
import { allLogs } from "contentlayer/generated";
import "react-datepicker/dist/react-datepicker.css";

export const Calendar = () => {
  const [selectedDate, setSelectedDate] =
    (useState < Date) | (null > new Date());
  const minDate = useMemo(() => new Date("2023-10-09"), []);
  const today = useMemo(() => new Date(), []);

  const ExampleCustomInput = forwardRef(({ value, onClick }: any, ref: any) => (
    <button className="" onClick={onClick} ref={ref}>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        strokeWidth={1.5}
        stroke="currentColor"
        className="w-6 h-6"
      >
        <path
          strokeLinecap="round"
          strokeLinejoin="round"
          d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5m-9-6h.008v.008H12v-.008zM12 15h.008v.008H12V15zm0 2.25h.008v.008H12v-.008zM9.75 15h.008v.008H9.75V15zm0 2.25h.008v.008H9.75v-.008zM7.5 15h.008v.008H7.5V15zm0 2.25h.008v.008H7.5v-.008zm6.75-4.5h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V15zm0 2.25h.008v.008h-.008v-.008zm2.25-4.5h.008v.008H16.5v-.008zm0 2.25h.008v.008H16.5V15z"
        />
      </svg>
    </button>
  ));

  ExampleCustomInput.displayName = "ExampleCustomInput";

  return (
    <DatePicker
      locale={ko}
      className="flex w-10 h-10 rounded-full"
      dateFormat="yyyy.MM.dd"
      shouldCloseOnSelect
      minDate={minDate}
      maxDate={today}
      filterDate={(date) => {
        const formatDate = format(date, "yyMMdd");
        const isFindLog = allLogs.find(
          (log: any) => formatDate === format(new Date(log.date), "yyMMdd")
        );
        return !!isFindLog;
      }}
      selected={selectedDate}
      onChange={(date) => setSelectedDate(date)}
      customInput={<ExampleCustomInput />}
      renderCustomHeader={({ date, decreaseMonth, increaseMonth }) => {
        return (
          <div className="flex items-center justify-between">
            <button onClick={decreaseMonth}>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                strokeWidth={1.5}
                stroke="#ccc"
                className="w-6 h-6"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  d="M15.75 19.5L8.25 12l7.5-7.5"
                />
              </svg>
            </button>
            <div className="mb-3 text-sm font-bold">
              {format(date, "yyyyë…„ MMì›”")}
            </div>
            <button onClick={increaseMonth}>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                strokeWidth={1.5}
                stroke="#ccc"
                className="w-6 h-6"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  d="M8.25 4.5l7.5 7.5-7.5 7.5"
                />
              </svg>
            </button>
          </div>
        );
      }}
      renderDayContents={(day, date: Date) => {
        const formatDate = format(date, "yyMMdd");
        const isFindLog = allLogs.find(
          (log: any) => formatDate === format(new Date(log.date), "yyMMdd")
        );
        if (!isFindLog) {
          return (
            <div className="flex w-full h-full">
              <div className="w-full h-full">{day}</div>
            </div>
          );
        }
        return (
          <div className="flex w-full h-full">
            <Link className="w-full h-full" href={`/log/${formatDate}`}>
              {day}
            </Link>
          </div>
        );
      }}
    />
  );
};
```

</details>

## ë¦¬íŒ©í† ë§ ì™„ë£Œ í•œ ì½”ë“œ

```jsx
"use client";

import Link from "next/link";
import DatePicker from "react-datepicker";
import { Ref, forwardRef, useMemo, useState } from "react";
import { ko } from "date-fns/esm/locale";
import { format } from "date-fns";
import { Log, allLogs } from "contentlayer/generated";
import "react-datepicker/dist/react-datepicker.css";
import { CalendarIcon } from "./Icons/CalendarIcon";
import { ArrowLeftIcon, ArrowRightIcon } from "./Icons/ArrowIcons";

export const Calendar = () => {
  const [selectedDate, setSelectedDate] =
    (useState < Date) | (null > new Date());
  const minDate = useMemo(() => new Date("2023-10-09"), []);
  const today = useMemo(() => new Date(), []);

  const isLogAvailable = (date: Date) => {
    const formatDate = format(date, "yyMMdd");
    const isFindLog = allLogs.find(
      (log: Log) => formatDate === format(new Date(log.date), "yyMMdd")
    );
    return !!isFindLog;
  };

  const CustomInput = forwardRef(
    (
      {
        onClick,
        ...rest
      }: {
        onClick?: (event: React.MouseEvent<HTMLButtonElement>) => void,
      },
      ref: Ref<HTMLButtonElement>
    ) => (
      <button className="" onClick={onClick} ref={ref} {...rest}>
        <CalendarIcon />
      </button>
    )
  );

  CustomInput.displayName = "CustomInput";

  const renderCustomHeader = ({
    date,
    decreaseMonth,
    increaseMonth,
  }: {
    date: Date,
    decreaseMonth: () => void,
    increaseMonth: () => void,
  }) => {
    return (
      <div className="flex items-center justify-between">
        <button onClick={decreaseMonth}>
          <ArrowLeftIcon />
        </button>
        <div className="mb-3 text-sm font-bold">
          {format(date, "yyyyë…„ MMì›”")}
        </div>
        <button onClick={increaseMonth}>
          <ArrowRightIcon />
        </button>
      </div>
    );
  };
  const renderDayContents = (day: number, date: Date) => {
    const formatDate = format(date, "yyMMdd");
    const isFindLog = isLogAvailable(date);
    if (!isFindLog) {
      return (
        <div className="flex w-full h-full">
          <div className="w-full h-full">{day}</div>
        </div>
      );
    }
    return (
      <div className="flex w-full h-full">
        <Link className="w-full h-full" href={`/log/${formatDate}`}>
          {day}
        </Link>
      </div>
    );
  };

  return (
    <DatePicker
      locale={ko}
      className="flex w-10 h-10 rounded-full"
      dateFormat="yyyy.MM.dd"
      shouldCloseOnSelect
      minDate={minDate}
      maxDate={today}
      filterDate={(date) => isLogAvailable(date)}
      selected={selectedDate}
      onChange={(date) => setSelectedDate(date)}
      customInput={<CustomInput />}
      renderCustomHeader={renderCustomHeader}
      renderDayContents={renderDayContents}
    />
  );
};
```

ë¦¬íŒ©í† ë§ì„ í†µí•´ ì½”ë“œë¥¼ í–¥ìƒì‹œí‚¤ê³  ê°€ë…ì„±ì„ í•œ ë‹¨ê³„ ë” ë†’ì¼ ìˆ˜ ìˆì—ˆë‹¤. ë¦¬íŒ©í† ë§ì„ ë¯¸ë£¨ì§€ ë§ê³  ë°”ë¡œ í•˜ëŠ” ìŠµê´€ì„ ê¸¸ëŸ¬ì•¼ê² ë‹¤. ğŸš€
